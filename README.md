# 🎮 ZZZ 游戏自动化脚本

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://www.python.org/)
[![OpenCV](https://img.shields.io/badge/OpenCV-4.x-green.svg)](https://opencv.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

一个高效、稳定的《Zenless Zone Zero》游戏自动化脚本，通过先进的图像识别技术自动执行游戏内的日常任务，解放您的双手。

## ✨ 功能特性

- 🚀 **自动启动游戏** - 智能检测并一键启动 Zenless Zone Zero 游戏
- ☕ **咖啡任务自动化** - 自动完成咖啡店相关日常任务
- 🔮 **占卜功能自动化** - 智能处理占卜系统操作
- 📼 **录像店任务** - 自动完成录像店相关功能
- 🎁 **每日奖励领取** - 自动领取每日登录奖励
- 📅 **月度奖励领取** - 自动领取每月累计奖励

## 📁 项目结构

```
AutoZZZ/
├── main.py              # 🎯 主程序入口点
├── game.py              # 🎮 游戏任务自动化模块
├── start.py             # ⚡ 游戏启动管理模块
├── tool.py              # 🛠️  核心工具函数库
├── zzz.txt              # ⚙️  游戏路径配置文件
├── requirement.txt      # 📦 Python依赖包列表
├── README.md            # 📖 项目说明文档
└── zzz/                 # 🖼️  图像模板资源目录
    ├── chakan.png       # 👀 查看按钮模板
    ├── kafei.png        # ☕ 咖啡任务模板
    ├── jiangli.png      # 🎁 奖励图标模板
    ├── ...              # 📋 共34个模板文件
    └── zhoujiangli.png  # 📅 周奖励模板
```

## 🛠️ 核心组件详解

### 1. 图像识别引擎 (tool.py)
- `Template()` - 高性能图像识别函数，支持自定义置信度阈值和重试机制
- `move()` - 精准键盘操作函数，确保游戏内操作稳定性

### 2. 游戏启动管理器 (start.py)
- `start_game()` - 主启动函数，智能处理游戏启动流程
- `zairu()` - 配置文件加载器，动态读取游戏路径设置

### 3. 任务执行系统 (game.py)
- `kafei()` - ☕ 咖啡任务自动化执行
- `zhanbu()` - 🔮 占卜功能自动化处理  
- `luxiang()` - 📼 录像店任务自动完成
- `jiangli()` - 🎁 每日奖励自动领取
- `zhoujiangli()` - 📅 月度奖励自动收集

## 📚 详细部署教程

### 🎯 教程目标
本教程将指导您完成从零开始部署和使用ZZZ自动化脚本的全过程。

### 第一步：环境准备

#### 1.1 安装Python
1. 访问 [Python官网](https://www.python.org/downloads/)
2. 下载Python 3.8或更高版本
3. 安装时勾选"Add Python to PATH"选项
4. 验证安装：打开CMD，输入 `python --version`

#### 1.2 获取项目代码
```bash
# 如果您使用Git
git clone <您的项目仓库地址>
cd AutoZZZ

# 或者直接下载ZIP压缩包并解压
```

### 第二步：安装依赖包

#### 2.1 使用pip安装
```bash
# 在项目根目录打开命令提示符或PowerShell
pip install -r requirement.txt
```

#### 2.2 依赖包说明
- `opencv-python`: 图像识别核心库
- `pillow`: 图像处理辅助库
- `pyautogui`: 自动化鼠标键盘操作
- `pydirectinput`: 更精准的输入控制
- `numpy`: 数值计算支持

#### 2.3 验证安装
```bash
python -c "import cv2, pyautogui; print('所有依赖安装成功!')"
```

### 第三步：游戏配置

#### 3.1 设置游戏路径
1. 用文本编辑器打开 `zzz.txt` 文件
2. 修改为您的实际游戏路径：
```txt
C:\Program Files\miHoYo Launcher\games\ZenlessZoneZero Game\ZenlessZoneZero.exe
```

#### 3.2 常见游戏路径
- 默认安装路径: `C:\Program Files\miHoYo Launcher\games\ZenlessZoneZero Game\`
- 自定义安装: 根据您的实际安装位置修改
- Steam版本: 需要找到Steam库中的游戏exe文件

### 第四步：分辨率设置（重要！）

#### 4.1 4K分辨率要求
脚本**仅支持3840×2160（4K）分辨率**运行

#### 4.2 设置游戏分辨率
1. 打开游戏设置
2. 将游戏分辨率设置为3840×2160
3. 建议使用**窗口模式**而非全屏模式

#### 4.3 屏幕缩放设置
1. 右键桌面 → 显示设置
2. 确保显示缩放设置为100%
3. 分辨率设置为3840×2160

#### 4.4 其他分辨率适配
如果您不使用4K分辨率，需要：
1. 自行截取游戏界面截图
2. 按照原有命名规则替换zzz目录中的所有图片
3. 确保截图与游戏界面完全一致

### 第五步：图像模板验证

#### 5.1 检查模板文件
确保zzz目录包含以下关键模板：
- `kafei.png` - 咖啡任务图标
- `zhanbu.png` - 占卜功能图标  
- `luxiang.png` - 录像店图标
- `jiangli.png` - 每日奖励图标
- `zhoujiangli.png` - 月度奖励图标
- 以及其他29个界面元素模板

#### 5.2 模板更新指南
如果游戏更新导致界面变化：
1. 在相同位置截取新的界面截图
2. 保持原有的文件名不变
3. 替换zzz目录中的对应文件

### 第六步：首次运行测试

#### 6.1 启动脚本
```bash
python main.py
```

#### 6.2 首次运行流程
1. 脚本会自动读取配置文件
2. 启动Zenless Zone Zero游戏
3. 尝试登录并进入游戏主界面
4. 开始执行自动化任务

#### 6.3 监控运行状态
- 观察控制台输出信息
- 查看图像识别结果反馈
- 注意任何错误或警告信息

### 第七步：常见问题解决

#### 7.1 依赖安装失败
```bash
# 如果pip安装失败，尝试使用清华源
pip install -r requirement.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### 7.2 游戏启动失败
- 检查zzz.txt中的路径是否正确
- 确认游戏客户端已正常安装

#### 7.3 图像识别失败
- 确认游戏分辨率为3840×2160
- 检查游戏界面是否与模板匹配
- 确保游戏窗口未被遮挡

#### 7.4 权限问题
- 以管理员身份运行命令提示符
- 确保对游戏目录有读写权限

### 第八步：自动化任务验证

#### 8.1 任务执行顺序验证
观察脚本是否按正确顺序执行：
1. 游戏启动和登录
2. 咖啡店任务
3. 占卜功能
4. 录像店任务  
5. 每日奖励领取
6. 月度奖励收集

#### 8.2 性能优化建议
- 关闭不必要的后台程序
- 确保网络连接稳定
- 在电脑空闲时运行脚本

## 🚀 快速开始（简化版）

对于有经验的用户，可以直接参考以下简化步骤：

### 环境要求
- **操作系统**: Windows 10/11
- **Python版本**: 3.8+
- **屏幕分辨率**: 3840x2160 (4K) - 必须
- **游戏版本**: Zenless Zone Zero 最新版

### 简易四步部署
1. **安装依赖**: `pip install -r requirement.txt`
2. **配置路径**: 编辑zzz.txt设置游戏exe路径
3. **验证模板**: 确保zzz目录图片完整且匹配
4. **运行脚本**: `python main.py`

> ⚠️ 注意：首次使用建议完整阅读上面的详细教程

## ⚙️ 详细配置说明

### 分辨率设置
脚本默认优化用于 **1920×1080** 分辨率，确保游戏窗口以该分辨率运行以获得最佳识别效果。

### 游戏窗口要求
- 游戏窗口需要在屏幕可见区域内
- 建议将游戏设置为窗口模式运行
- 脚本运行期间请勿移动或调整游戏窗口

### 性能优化建议
1. 关闭不必要的后台应用程序
2. 确保网络连接稳定
3. 定期更新图像模板以匹配游戏版本更新

## 🎯 使用方法

### 基本操作
```bash
# 直接运行主程序
python main.py

# 程序将自动执行以下流程：
# 1. 读取配置文件并启动游戏
# 2. 登录游戏并进入主界面
# 3. 按顺序执行所有自动化任务
# 4. 任务完成后自动退出或等待下一步指令
```

### 任务执行顺序
1. ✅ 启动游戏和登录
2. ✅ 咖啡店任务
3. ✅ 占卜功能  
4. ✅ 录像店任务
5. ✅ 每日奖励领取
6. ✅ 月度奖励收集
7. ✅ 任务完成确认

## 🔧 技术实现

### 图像识别技术
- 使用 **OpenCV** 进行高精度模板匹配
- **Pillow** 库辅助图像处理
- 自适应置信度阈值算法
- 智能重试机制确保操作成功率

### 自动化控制
- **pyautogui** 用于鼠标点击和屏幕操作
- **pydirectinput** 提供精准键盘输入控制
- 异常处理和超时机制保障稳定性

### 错误恢复系统
- 自动重试失败的操作
- 智能超时检测
- 错误日志记录和报告

## 📝 注意事项

### 重要提醒
- 🖥️ **分辨率要求**: 确保游戏运行在1920×1080分辨率下
- 🎮 **窗口位置**: 游戏窗口必须全程可见，不可被遮挡
- ⚡ **性能影响**: 脚本运行时会占用一定的系统资源
- 🔄 **版本兼容**: 游戏更新后可能需要更新图像模板

### 最佳实践
1. 首次使用前完整测试所有功能
2. 定期检查模板文件与游戏版本的匹配度
3. 在网络稳定的环境下运行脚本
4. 关注游戏更新公告，及时调整脚本

### 故障排除
- 如果识别失败，检查游戏界面是否变化
- 确认所有依赖包已正确安装
- 验证游戏路径配置是否正确

## ⚠️ 免责声明

### 使用条款
本脚本仅限用于**学习和研究目的**，请勿用于任何商业用途或违反游戏规则的行为。

### 风险告知
1. 📜 **用户协议**: 使用前请仔细阅读游戏用户协议，了解自动化工具的使用限制
2. ⚖️ **责任承担**: 使用者需自行承担因使用本脚本可能产生的任何风险
3. 🔒 **账号安全**: 不建议在主账号上使用自动化工具，以免违反游戏规则
4. 📋 **合规使用**: 确保您的使用方式符合游戏开发商的相关规定

### 开发宗旨
本项目旨在：
- 🎓 学习和研究图像识别技术
- 🤖 探索自动化技术的应用场景  
- 💡 分享技术实现方案和经验
- 🛡️ 促进合规的自动化工具开发

---

**最后更新**: 2025年10月7日  
**兼容版本**: Zenless Zone Zero v1.0+

> 🎯 专注技术学习，合理使用工具，享受游戏乐趣！

仅供学习交流使用
